# é…ç½®åç§°: QuantumultX é…ç½®
# é…ç½®ä½œè€…: Centralmatrix3
# æ›´æ–°æ—¶é—´: 24-01-01 00:00

[general]
# ä»£ç†æœåŠ¡æµ‹è¯•
server_check_url = http://cp.cloudflare.com/generate_204

# ç›´è¿ç½‘ç»œæµ‹è¯•
network_check_url = http://taobao.com/

# æœåŠ¡æ£€æŸ¥è¶…æ—¶
server_check_timeout = 3000

# é…ç½®æ–‡ä»¶å›¾æ ‡
profile_img_url = https://github.com/Centralmatrix3/Matrix-io/raw/master/Gallery/Matrix/Picture003.PNG

# åœ°ç†ä½ç½®æ£€æŸ¥
geo_location_checker = http://ip-api.com/json/?lang=zh-CN, https://github.com/Centralmatrix3/Matrix-io/raw/master/QuantumultX/Scripts/IP-API.Js

# èµ„æºè§£æå™¨
resource_parser_url = https://github.com/KOP-XIAO/QuantumultX/raw/master/Scripts/resource-parser.js

# æ’é™¤è·¯çº¿
excluded_routes = 239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32

# DNSæ’é™¤åˆ—è¡¨
dns_exclusion_list = *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com

# UDPä¸¢å¼ƒåˆ—è¡¨
udp_drop_list = 443

[dns]
# ç¦ç”¨ç³»ç»ŸDNS/IPv6
no-system
no-ipv6

# DNS over HTTP/3
# prefer-doh3

# è‡ªå®šä¹‰ DNS æœåŠ¡å™¨
server = 223.5.5.5
server = 119.29.29.29

# è‡ªå®šä¹‰ DoH æœåŠ¡å™¨
# doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query

[policy]
# è‹¹æœæœåŠ¡
static = è‹¹æœæœåŠ¡, direct, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_2.png

# æ¸¯å°ç•ªå‰§
static = æ¸¯å°ç•ªå‰§, direct, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/StreamingSE.png

# å›½å†…åª’ä½“
static = å›½å†…åª’ä½“, direct, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/StreamingCN.png

# å›½é™…åª’ä½“
static = å›½é™…åª’ä½“, proxy, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Streaming.png

# å…¨çƒåŠ é€Ÿ
static = å…¨çƒåŠ é€Ÿ, proxy, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png

# é»‘ç™½åå•
static = é»‘ç™½åå•, proxy, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png

# è‡ªåŠ¨é€‰æ‹©
url-latency-benchmark = è‡ªåŠ¨é€‰æ‹©, server-tag-regex=.*, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/CN.png

# é¦™æ¸¯èŠ‚ç‚¹
url-latency-benchmark = é¦™æ¸¯èŠ‚ç‚¹, server-tag-regex=é¦™æ¸¯|æ¸¯|HK|ğŸ‡­ğŸ‡°|(?i)Hong, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png

# å°æ¹¾èŠ‚ç‚¹
url-latency-benchmark = å°æ¹¾èŠ‚ç‚¹, server-tag-regex=å°æ¹¾|å°|TW|ğŸ‡¹ğŸ‡¼|(?i)Taiwan, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png

# æ—¥æœ¬èŠ‚ç‚¹
url-latency-benchmark = æ—¥æœ¬èŠ‚ç‚¹, server-tag-regex=æ—¥æœ¬|æ—¥|JP|ğŸ‡¯ğŸ‡µ|(?i)Japan, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png

# éŸ©å›½èŠ‚ç‚¹
url-latency-benchmark = éŸ©å›½èŠ‚ç‚¹, server-tag-regex=éŸ©å›½|éŸ©|KR|ğŸ‡°ğŸ‡·|(?i)Korea, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/KR.png

# ç‹®åŸèŠ‚ç‚¹
url-latency-benchmark = ç‹®åŸèŠ‚ç‚¹, server-tag-regex=æ–°åŠ å¡|ç‹®|SG|ğŸ‡¸ğŸ‡¬|(?i)Singapore, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png

# ç¾å›½èŠ‚ç‚¹
url-latency-benchmark = ç¾å›½èŠ‚ç‚¹, server-tag-regex=ç¾å›½|ç¾|US|ğŸ‡ºğŸ‡¸|(?i)States, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png

[server_local]
# æœ¬åœ°èŠ‚ç‚¹

[server_remote]
# è¿œç¨‹è®¢é˜…

[filter_local]
# æœ€ç»ˆè§„åˆ™
FINAL, é»‘ç™½åå•

[filter_remote]
# è§„åˆ™ä¿®æ­£
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/Unbreak.list, tag=è§„åˆ™ä¿®æ­£, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true

# å¹¿å‘Šæ‹¦æˆª
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/AdBlock.list, tag=å¹¿å‘Šæ‹¦æˆª, force-policy=reject, update-interval=172800, opt-parser=false, enabled=true

# å›½é™…åª’ä½“
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/Streaming.list, tag=å›½é™…åª’ä½“, force-policy=å›½é™…åª’ä½“, update-interval=172800, opt-parser=false, enabled=true

# æ¸¯å°ç•ªå‰§
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/StreamingSE.list, tag=æ¸¯å°ç•ªå‰§, force-policy=æ¸¯å°ç•ªå‰§, update-interval=172800, opt-parser=false, enabled=true

# å›½å†…åª’ä½“
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/StreamingCN.list, tag=å›½å†…åª’ä½“, force-policy=å›½å†…åª’ä½“, update-interval=172800, opt-parser=false, enabled=true

# å…¨çƒåŠ é€Ÿ
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/Global.list, tag=å…¨çƒåŠ é€Ÿ, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=false, enabled=true

# è‹¹æœæœåŠ¡
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/Apple.list, tag=è‹¹æœæœåŠ¡, force-policy=è‹¹æœæœåŠ¡, update-interval=172800, opt-parser=false, enabled=true

# å±€åŸŸç½‘ç»œ
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/LAN.list, tag=å±€åŸŸç½‘ç»œ, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true

# å›½å†…è§„åˆ™
https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/QuantumultX/Ruleset/GEOIPCN.list, tag=å›½å†…è§„åˆ™, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true

[rewrite_local]
# æœ¬åœ°é‡å†™

[rewrite_remote]
# å“”ç«™å»å¹¿å‘Š
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/Bilibili.conf, tag=å“”ç«™å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# æ²¹ç®¡å»å¹¿å‘Š
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/YoutubeAds.conf, tag=æ²¹ç®¡å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# å¾®åšå»å¹¿å‘Š
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/Weibo.conf, tag=å¾®åšå»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# é«˜å¾·å»å¹¿å‘Š
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/Amap.conf, tag=é«˜å¾·å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# çŸ¥ä¹å»å¹¿å‘Š
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zheye/zheye.snippet, tag=çŸ¥ä¹å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# å¼ å†›å»å¹¿å‘Š
https://raw.githubusercontent.com/fmz200/wool_scripts/main/QuantumultX/rewrite/chongxie.txt, tag=å¼ å†›å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

[task_local]
# åª’ä½“è§£é”æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=åª’ä½“è§£é”æŸ¥è¯¢, img-url=play.circle.system, enabled=true

# ç­–ç•¥æµé‡æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/traffic-check.js, tag=ç­–ç•¥æµé‡æŸ¥è¯¢, img-url=arrow.up.arrow.down.circle.system, enabled=true

# èŠ‚ç‚¹ä¿¡æ¯æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/server-info-plus.js, tag=èŠ‚ç‚¹ä¿¡æ¯æŸ¥è¯¢, img-url=tag.circle.system, enabled=true

# è°·æ­Œé€ä¸­æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/switch-check-google.js, tag=è°·æ­Œé€ä¸­æŸ¥è¯¢, img-url=drop.circle.system, enabled=true

# ä»£ç†é“¾è·¯æ£€æµ‹
event-interaction https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/NodeLinkCheck/Script/NodeLinkCheck.js, tag=ä»£ç†é“¾è·¯æ£€æµ‹, img-url=link.circle.system, enabled=true

[http_backend]
# HTTP Backend

[mitm]
# è·³è¿‡éªŒè¯è¯ä¹¦
skip_validating_cert = false

# å¼ºåˆ¶SNIåŸŸå
force_sni_domain_name = false

# ä¸»æœºå
hostname = -weather-data.apple.com, -buy.itunes.apple.com, -*.icloud.com
