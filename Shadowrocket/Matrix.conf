# é…ç½®åç§°: Shadowrocket é…ç½®
# é…ç½®ä½œè€…: Centralmatrix3
# æ›´æ–°æ—¶é—´: 24-01-13 18:00

[General]
# æ—è·¯ç³»ç»Ÿ
bypass-system = true

# è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12,100.64.0.0/10,  17.0.0.0/8, *.local, *.crashlytics.com, seed-sequoia.siri.apple.com, localhost, sequoia.apple.com, www.abchina.com.cn, iosapps.itunes.apple.com

# TUNæ’é™¤çš„è·¯ç”±
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32

# DNSæœåŠ¡å™¨
dns-server = 223.5.5.5, 119.29.29.29

# åå¤‡DNSæœåŠ¡å™¨
fallback-dns-server = system

# IPv6
ipv6 = false

# å¼ºåˆ¶IPv6
prefer-ipv6 = false

# DNS å›é€€ç³»ç»Ÿ
dns-fallback-system = false

# DNS ç›´æ¥ç³»ç»Ÿ
dns-direct-system = false

# ICMPè‡ªåŠ¨å›å¤
icmp-auto-reply = true

# å§‹ç»ˆæ‹’ç»URLé‡å†™
always-reject-url-rewrite = false

# ç§äººIPå›ç­”
private-ip-answer = true

# DNSç›´æ¥åå¤‡ä»£ç†
dns-direct-fallback-proxy = true

# UDPç­–ç•¥ä¸æ”¯æŒè¡Œä¸º
udp-policy-not-supported-behaviour = REJECT

# æ›´æ–°ç½‘å€
update-url = https://github.com/Centralmatrix3/Matrix-io/raw/master/Shadowrocket/Matrix.conf

[Proxy Group]
# è‹¹æœæœåŠ¡
è‹¹æœæœåŠ¡ = select,DIRECT,PROXY,è‡ªåŠ¨é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204

# æ¸¯å°ç•ªå‰§
æ¸¯å°ç•ªå‰§ = select,DIRECT,PROXY,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204

# å›½å†…åª’ä½“
å›½å†…åª’ä½“ = select,DIRECT,PROXY,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204

# å›½é™…åª’ä½“
å›½é™…åª’ä½“ = select,PROXY,DIRECT,è‡ªåŠ¨é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204

# å…¨çƒåŠ é€Ÿ
å…¨çƒåŠ é€Ÿ = select,PROXY,DIRECT,è‡ªåŠ¨é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204

# é»‘ç™½åå•
é»‘ç™½åå• = select,PROXY,DIRECT,è‡ªåŠ¨é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204

# è‡ªåŠ¨é€‰æ‹©
è‡ªåŠ¨é€‰æ‹© = url-test,url=http://www.gstatic.com/generate_204,interval=1800,tolerance=50,timeout=5,select=0,policy-regex-filter=^

# é¦™æ¸¯èŠ‚ç‚¹
é¦™æ¸¯èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=1800,tolerance=50,timeout=5,select=0,policy-regex-filter=é¦™æ¸¯|æ¸¯|HK|ğŸ‡­ğŸ‡°|(?i)Hong

# å°æ¹¾èŠ‚ç‚¹
å°æ¹¾èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=1800,tolerance=50,timeout=5,select=0,policy-regex-filter=å°æ¹¾|å°|TW|ğŸ‡¹ğŸ‡¼|(?i)Taiwan

# æ—¥æœ¬èŠ‚ç‚¹
æ—¥æœ¬èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=1800,tolerance=50,timeout=5,select=0,policy-regex-filter=æ—¥æœ¬|æ—¥|JP|ğŸ‡¯ğŸ‡µ|(?i)Japan

# éŸ©å›½èŠ‚ç‚¹
éŸ©å›½èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=1800,tolerance=50,timeout=5,select=0,policy-regex-filter=éŸ©å›½|éŸ©|KR|ğŸ‡°ğŸ‡·|(?i)Korea

# ç‹®åŸèŠ‚ç‚¹
ç‹®åŸèŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=1800,tolerance=50,timeout=5,select=0,policy-regex-filter=æ–°åŠ å¡|ç‹®|SG|ğŸ‡¸ğŸ‡¬|(?i)Singapore

# ç¾å›½èŠ‚ç‚¹
ç¾å›½èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=1800,tolerance=50,timeout=5,select=0,policy-regex-filter=ç¾å›½|ç¾|US|ğŸ‡ºğŸ‡¸|(?i)States

[Rule]
# è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Unbreak.list,DIRECT

# å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/AdBlock.list,REJECT

# å›½é™…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Streaming.list,å›½é™…åª’ä½“

# æ¸¯å°ç•ªå‰§
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/StreamingSE.list,æ¸¯å°ç•ªå‰§

# å›½å†…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/StreamingCN.list,å›½å†…åª’ä½“

# å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Global.list,å…¨çƒåŠ é€Ÿ

# è‹¹æœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Apple.list,è‹¹æœæœåŠ¡

# å±€åŸŸç½‘ç»œ
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/LAN.list,DIRECT

# å›½å†…è§„åˆ™
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/GEOIPCN.list,DIRECT

# æœ€ç»ˆè§„åˆ™
FINAL,é»‘ç™½åå•

[Host]
# æœ¬åœ°ä¸»æœº
localhost = 127.0.0.1

[MITM]
# ä¸»æœºå
hostname = -weather-data.apple.com, -buy.itunes.apple.com, -*.icloud.com

# Enable
enable = true
