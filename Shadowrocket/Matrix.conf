# é…ç½®åç§°: Shadowrocket é…ç½®
# é…ç½®ä½œè€…: Centralmatrix3
# æ›´æ–°æ—¶é—´: 25-11-08 00:00

[General]
# æ—è·¯ç³»ç»Ÿ
bypass-system = true

# å¯ç”¨IPv6
ipv6 = false

# é¦–é€‰IPv6
prefer-ipv6 = false

# æ¥ç®¡æ¨¡å¼
compatibility-mode = 3

# ç§æœ‰åº”ç­”
private-ip-answer = true

# è‡ªåŠ¨å›å¤
icmp-auto-reply = true

# æ’é™¤çº¿è·¯
tun-excluded-routes = 239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32

# å¤‡ç”¨DNS
fallback-dns-server = 223.5.5.5, 119.29.29.29

# DNSè¦†å†™
dns-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query

# ç›´è¿åŸŸåè§„åˆ™ä½¿ç”¨ç³»ç»ŸDNSæŸ¥è¯¢
dns-direct-system = false

# ç›´è¿åŸŸåDNSè§£æå¤±è´¥ä½¿ç”¨ä»£ç†
dns-direct-fallback-proxy = true

# UDPå›é€€ç­–ç•¥
udp-policy-not-supported-behaviour = REJECT

# å§‹ç»ˆæ‹’ç»é‡å†™
always-reject-url-rewrite = false

# æ›´æ–°é…ç½®æ–‡ä»¶
update-url = https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Matrix.conf

[Proxy Group]
# è‹¹æœæœåŠ¡
è‹¹æœæœåŠ¡ = select, DIRECT, PROXY, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, policy-select-name=DIRECT

# æ¸¯å°åª’ä½“
æ¸¯å°åª’ä½“ = select, DIRECT, PROXY, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, policy-select-name=DIRECT

# å›½å†…åª’ä½“
å›½å†…åª’ä½“ = select, DIRECT, PROXY, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, policy-select-name=DIRECT

# å›½å¤–åª’ä½“
å›½å¤–åª’ä½“ = select, PROXY, DIRECT, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, policy-select-name=PROXY

# å›½å¤–ç½‘ç«™
å›½å¤–ç½‘ç«™ = select, PROXY, DIRECT, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, policy-select-name=PROXY

# é»‘ç™½åå•
é»‘ç™½åå• = select, PROXY, DIRECT, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, policy-select-name=PROXY

# è‡ªåŠ¨é€‰æ‹©
è‡ªåŠ¨é€‰æ‹© = url-test, url=http://www.gstatic.com/generate_204, interval=1800, tolerance=50, timeout=5, select=0, policy-regex-filter=^

# é¦™æ¸¯èŠ‚ç‚¹
é¦™æ¸¯èŠ‚ç‚¹ = url-test, url=http://www.gstatic.com/generate_204, interval=1800, tolerance=50, timeout=5, select=0, policy-regex-filter=é¦™æ¸¯|æ¸¯|HK|ğŸ‡­ğŸ‡°|(?i)Hong

# å°æ¹¾èŠ‚ç‚¹
å°æ¹¾èŠ‚ç‚¹ = url-test, url=http://www.gstatic.com/generate_204, interval=1800, tolerance=50, timeout=5, select=0, policy-regex-filter=å°æ¹¾|å°|TW|ğŸ‡¹ğŸ‡¼|(?i)Taiwan

# æ—¥æœ¬èŠ‚ç‚¹
æ—¥æœ¬èŠ‚ç‚¹ = url-test, url=http://www.gstatic.com/generate_204, interval=1800, tolerance=50, timeout=5, select=0, policy-regex-filter=æ—¥æœ¬|æ—¥|JP|ğŸ‡¯ğŸ‡µ|(?i)Japan

# éŸ©å›½èŠ‚ç‚¹
éŸ©å›½èŠ‚ç‚¹ = url-test, url=http://www.gstatic.com/generate_204, interval=1800, tolerance=50, timeout=5, select=0, policy-regex-filter=éŸ©å›½|éŸ©|KR|ğŸ‡°ğŸ‡·|(?i)Korea

# ç‹®åŸèŠ‚ç‚¹
ç‹®åŸèŠ‚ç‚¹ = url-test, url=http://www.gstatic.com/generate_204, interval=1800, tolerance=50, timeout=5, select=0, policy-regex-filter=æ–°åŠ å¡|ç‹®|SG|ğŸ‡¸ğŸ‡¬|(?i)Singapore

# ç¾å›½èŠ‚ç‚¹
ç¾å›½èŠ‚ç‚¹ = url-test, url=http://www.gstatic.com/generate_204, interval=1800, tolerance=50, timeout=5, select=0, policy-regex-filter=ç¾å›½|ç¾|US|ğŸ‡ºğŸ‡¸|(?i)States

[Rule]
# è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Unbreak.list,DIRECT

# å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Advertising.list,REJECT

# æ¸¯å°åª’ä½“
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/HMTMedia.list,æ¸¯å°åª’ä½“

# å›½å†…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/ChinaMedia.list,å›½å†…åª’ä½“

# å›½å¤–åª’ä½“
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/GlobalMedia.list,å›½å¤–åª’ä½“

# å›½å¤–ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Global.list,å›½å¤–ç½‘ç«™

# è‹¹æœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/Apple.list,è‹¹æœæœåŠ¡

# å±€åŸŸç½‘ç»œ
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/LAN.list,DIRECT

# å›½å†…ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Shadowrocket/Ruleset/GEOIPCN.list,DIRECT

# æœ€ç»ˆè§„åˆ™
FINAL,é»‘ç™½åå•

[MITM]
# ä¸»æœºå
hostname = -buy.itunes.apple.com