# é…ç½®åç§°: Egern é…ç½®
# é…ç½®ä½œè€…: Centralmatrix3
# æ›´æ–°æ—¶é—´: 23-12-25 01:40

http_port: 8200     # HTTPä»£ç†ç«¯å£
socks_port: 8300    # SOCKSä»£ç†ç«¯å£

vif_only: true      # VIFæ¨¡å¼

dns_servers:        # å¸¸è§„DNS
- 233.5.5.5
- 119.29.29.29

secure_dns:         # åŠ å¯†DNS
  servers:
  - https://dns.alidns.com/dns-query,https://doh.pub/dns-query

  ecs: false        # ECSä¸å…¬ç½‘IPæŸ¥è¯¢
  public_ip_lookup_url: ''

policy_groups:      # ç­–ç•¥ç»„
- external:         # è‡ªè¡Œé€‰æ‹©
    name: è‡ªè¡Œé€‰æ‹©
    type: select
    urls:
    - ğŸ§¸è®¢é˜…é“¾æ¥ğŸ§¸
    hidden: false

- auto_test:        # è‡ªåŠ¨é€‰æ‹©
    name: è‡ªåŠ¨é€‰æ‹©
    policies:
    - è‡ªè¡Œé€‰æ‹©
    flatten: true
    filter: ^
    interval: 1800
    tolerance: 50

- select:           # è‹¹æœæœåŠ¡
    name: è‹¹æœæœåŠ¡
    policies:
    - è‡ªè¡Œé€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©
    - DIRECT
    - REJECT
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹

- select:           # æ¸¯å°ç•ªå‰§
    name: æ¸¯å°ç•ªå‰§
    policies:
    - è‡ªè¡Œé€‰æ‹©
    - DIRECT
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹

- select:           # å›½å†…åª’ä½“
    name: å›½å†…åª’ä½“
    policies:
    - è‡ªè¡Œé€‰æ‹©
    - DIRECT
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹

- select:           # å›½é™…åª’ä½“
    name: å›½é™…åª’ä½“
    policies:
    - è‡ªè¡Œé€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©
    - DIRECT
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹

- select:           # å…¨çƒåŠ é€Ÿ
    name: å…¨çƒåŠ é€Ÿ
    policies:
    - è‡ªè¡Œé€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©
    - DIRECT
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹

- select:           # é»‘ç™½åå•
    name: é»‘ç™½åå•
    policies:
    - è‡ªè¡Œé€‰æ‹©
    - DIRECT
    - REJECT
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹

- auto_test:        # é¦™æ¸¯èŠ‚ç‚¹
    name: é¦™æ¸¯èŠ‚ç‚¹
    policies:
    - è‡ªè¡Œé€‰æ‹©
    flatten: true
    filter: é¦™æ¸¯|æ¸¯|HK|(?i)HongKong
    interval: 1800
    tolerance: 50

- auto_test:        # å°æ¹¾èŠ‚ç‚¹
    name: å°æ¹¾èŠ‚ç‚¹
    policies:
    - è‡ªè¡Œé€‰æ‹©
    flatten: true
    filter: å°æ¹¾|å°|TW|(?i)Taiwan
    interval: 1800
    tolerance: 50

- auto_test:        # æ—¥æœ¬èŠ‚ç‚¹
    name: æ—¥æœ¬èŠ‚ç‚¹
    policies:
    - è‡ªè¡Œé€‰æ‹©
    flatten: true
    filter: æ—¥æœ¬|æ—¥|JP|(?i)Japan
    interval: 1800
    tolerance: 50

- auto_test:        # ç‹®åŸèŠ‚ç‚¹
    name: ç‹®åŸèŠ‚ç‚¹
    policies:
    - è‡ªè¡Œé€‰æ‹©
    flatten: true
    filter: æ–°åŠ å¡|ç‹®|SG|(?i)Singapore
    interval: 1800
    tolerance: 50

- auto_test:        # ç¾å›½èŠ‚ç‚¹
    name: ç¾å›½èŠ‚ç‚¹
    policies:
    - è‡ªè¡Œé€‰æ‹©
    flatten: true
    filter: ç¾å›½|ç¾|US|(?i)UnitedStates
    interval: 1800
    tolerance: 50

rules:              # åˆ†æµè§„åˆ™
- rule_set:         # è§„åˆ™ä¿®æ­£
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/Unbreak.yaml
    policy: DIRECT

- rule_set:         # å¹¿å‘Šæ‹¦æˆª
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/AdBlock.yaml
    policy: REJECT

- rule_set:         # å›½é™…åª’ä½“
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/Streaming.yaml
    policy: å›½é™…åª’ä½“

- rule_set:         # æ¸¯å°ç•ªå‰§
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/StreamingSE.yaml
    policy: æ¸¯å°ç•ªå‰§

- rule_set:         # å›½å†…åª’ä½“
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/StreamingCN.yaml
    policy: å›½å†…åª’ä½“

- rule_set:         # å…¨çƒåŠ é€Ÿ
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/Global.yaml
    policy: å…¨çƒåŠ é€Ÿ

- rule_set:         # è‹¹æœæœåŠ¡
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/Apple.yaml
    policy: è‹¹æœæœåŠ¡

- rule_set:         # å±€åŸŸç½‘ç»œ
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/LAN.yaml
    policy: DIRECT

- rule_set:         # å›½å†…è§„åˆ™
    match: https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Egern/Ruleset/GEOIPCN.yaml
    policy: DIRECT

- default:          # æœ€ç»ˆè§„åˆ™
    policy: é»‘ç™½åå•

mitm:               # MITM
  enabled: true
